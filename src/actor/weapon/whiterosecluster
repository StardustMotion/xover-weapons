const int XW_WHITE_ROSE_CLUSTER_H1 = 46;
const int XW_WHITE_ROSE_CLUSTER_H2 = 72;
const int XW_WHITE_ROSE_CLUSTER_H3 = 92;

const int XW_WHITE_ROSE_CLUSTER_SPEED = 34;


actor XWWhiteRoseClusterWep : BaseXoverWep { 
	weapon.SlotNumber 5
	inventory.icon "WHTROSCL"	obituary "$OB_XWWHITEROSECLUSTER"	tag "$TAG_XWWHITEROSECLUSTER" 
	states {
		noAmmo: XWAF O 0 offset(0,32) A_TakeInventory("WeaponCharge", 0xFFFF)
			XWAF O 0 A_TakeInventory("WhiteRoseClusterHold", 0xFFFF)
			goto super::noAmmo	
		select: XWAF O 0 ACS_NamedExecuteWithResult("core_weaponcolor",6748)
            XWAF O 0 A_TakeInventory("WeaponCharge", 0xFFFF)
			goto super::select			
		deselect: XWAF O 0 A_TakeInventory("var16", 0xFFFF)
            XWAF O 0 A_JumpIfInventory("WeaponCharge",1,"lastBreath") goto super::deselect
        lastBreath: TNT1 A 0 A_GiveInventory("White Rose Cluster Shoot") XWAF O 0 A_TakeInventory("WeaponCharge", 0xFFFF)
            goto super::deselect
		ready: XWAF O 0
			goto super::ready
			
		altfire: althold: 
            XWAF O 0 A_GiveInventory("altfireToken")
			goto firePlayer
		fire: 
            "----" A 0 A_JumpIfInventory("isBot", 1, "botDecision")
		firePlayer: 
            XWAF T 0 A_JumpIf(!CallACS("XW Ammo Check", 2), "noAmmo")
			goto boule			
		botDecision: 
            "----" A 0 A_Jump(160, "altfire")
			goto firePlayer
            
		boule:
			XWAF O 1
			XWAF O 1
			XWAF O 1 offset(-4,30)
			XWAF P 1 offset(-8,28)
			XWAF O 0 A_GiveInventory("WhiteRoseClusterHold", 1)
            XWAF O 0 A_TakeInventory("var16", 0xFFFF)
			XWAF O 0 A_GunFlash("goboule", GFF_NOEXTCHANGE)
			TNT1 A 0 A_PlaySoundEx("WHRSCLS1", "Weapon")
			goto hold
		hold:
			XWAF P 1 A_SetArg(0,health)
			XWAF P 0 offset(-10,27) A_JumpIfInventory("WeaponCharge", 70, "prepareTesBoules")
			goto reFireCheck
		prepareTesBoules:
			XWAF P 0 A_JumpIfInventory("WeaponCharge", 71, "theresMore")
			XWAF P 0 A_JumpIf(CallACS("XW Ammo Check", 5), "prepareTesBoulesOk")
			goto reFireCheckNoCharge 
		prepareTesBoulesOk:
			TNT1 A 0 A_PlaySoundEx("WHRSCLS2", "Weapon")
			TNT1 A 0 A_TakeInventory("WhiteRoseClusterHold", 140)
			goto reFireCheck
		theresMore:
			XWAF P 0 offset(-10,27) A_JumpIfInventory("WeaponCharge", 140, "grossesBoules")
			goto reFireCheck
		grossesBoules:  
			XWAF J 0 A_JumpIfInventory("WeaponCharge", 141, "botCheck")
			XWAF P 0 A_JumpIf(CallACS("XW Ammo Check", 10), "grossesBoulesOk")
			goto reFireCheckNoCharge 
		grossesBoulesOk:
			TNT1 A 0 A_PlaySoundEx("WHRSCLS3", "Weapon")
			TNT1 A 0 A_TakeInventory("WhiteRoseClusterHold", 140)
			goto reFireCheck
			
		reFireCheck:
			XWAF P 0 A_GiveInventory("WeaponCharge")
		reFireCheckNoCharge:
			TNT1 A 0 A_GiveInventory("WhiteRoseClusterHold", 1)
			TNT1 A 0 A_JumpIfHealthLower(args[0], "norefire")
			"----" A 0 A_JumpIfInventory("varBool", 1, "smallConsume")
			"----" A 0 A_JumpIfInventory("altfireToken", 1, "norefire")
			"----" A 0 A_JumpIfInventory("WhiteRoseClusterHold", 140, "norefire")
			XWAF P 0 offset(-10,27) A_Refire
			goto norefire
        smallConsume:
			XWAF P 0 ACS_NamedExecuteAlways("XW Ammo Use", 0, 2)
            goto norefire+1
		norefire:
            TNT1 A 0 A_GiveInventory("White Rose Cluster Shoot")
			TNT1 A 0 A_GunFlash("stopIt", GFF_NOEXTCHANGE)
			TNT1 A 0 A_TakeInventory("WeaponCharge", 999)
			TNT1 A 0 A_TakeInventory("WhiteRoseClusterHold", 140)
			TNT1 A 0 A_TakeInventory("varBool", 1)
			TNT1 A 0 A_TakeInventory("altfireToken", 1)
			XWAF P 1 offset(-10,24)
			XWAF P 1 offset(-10,21)
			XWAF P 1 offset(-8,18)
			XWAF P 5 offset(-8,15)
			XWAF P 1 offset(-8,18)
			XWAF P 1 offset(-10,21)			
			XWAF P 1 offset(-8,24)
			XWAF O 1 offset(-6,27)
			XWAF O 1 offset(-4,28)
			XWAF O 1 offset(-2,29)
			XWAF O 2 offset(0,32) A_ClearRefire
			goto ready
		botCheck:
			XWAF J 0 A_JumpIfInventory("isBot", 1, "botDecisionCharged")
			goto reFireCheckNoCharge			
		botDecisionCharged:
			XWAF J 0 A_Jump(18, "norefire")
			goto reFireCheckNoCharge
			
		goboule:
            TNT1 A 1 A_GiveInventory("White Rose Cluster Melee") // manages all the melee
            loop
       	
		stopIt: TNT1 A 0
			stop			
}}	
	
actor WhiteRoseClusterHold : var8 { inventory.maxamount 140 }




// ----------- GFX ----------- //	

// Melee balls

actor "White Rose Cluster GFX A1" : "XW CS Frame" { +FORCEXYBILLBOARD
	translation "192:192=4:4", "199:199=202:202", "194:194=207:207", "4:4=73:73" scale 0.67 alpha 0.5 states {
			sprite: XWAF G 0
				goto clientSideCheck}}
				
actor "White Rose Cluster GFX A2" : "White Rose Cluster GFX A1" { states { sprite: XWAF H 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A3" : "White Rose Cluster GFX A1" { states { sprite: XWAF I 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A4" : "White Rose Cluster GFX A1" { states { sprite: XWAF J 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A5" : "White Rose Cluster GFX A1" { states { sprite: XWAF K 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A6" : "White Rose Cluster GFX A1" { states { sprite: XWAF L 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A7" : "White Rose Cluster GFX A1" { states { sprite: XWAF M 0
																		goto clientSideCheck}}
actor "White Rose Cluster GFX A8" : "White Rose Cluster GFX A1" { states { sprite: XWAF N 0
																		goto clientSideCheck}}
				
actor "White Rose Cluster GFX B1" : "White Rose Cluster GFX A1" { scale 1.635 }
actor "White Rose Cluster GFX B2" : "White Rose Cluster GFX A2" { scale 1.635 }
actor "White Rose Cluster GFX B3" : "White Rose Cluster GFX A3" { scale 1.635 }
actor "White Rose Cluster GFX B4" : "White Rose Cluster GFX A4" { scale 1.635 }
actor "White Rose Cluster GFX B5" : "White Rose Cluster GFX A5" { scale 1.635 }
actor "White Rose Cluster GFX B6" : "White Rose Cluster GFX A6" { scale 1.635 }
actor "White Rose Cluster GFX B7" : "White Rose Cluster GFX A7" { scale 1.635 }
actor "White Rose Cluster GFX B8" : "White Rose Cluster GFX A8" { scale 1.635 }

actor "White Rose Cluster GFX C1" : "White Rose Cluster GFX A1" { scale 2.6 }
actor "White Rose Cluster GFX C2" : "White Rose Cluster GFX A2" { scale 2.6 }
actor "White Rose Cluster GFX C3" : "White Rose Cluster GFX A3" { scale 2.6 }
actor "White Rose Cluster GFX C4" : "White Rose Cluster GFX A4" { scale 2.6 }
actor "White Rose Cluster GFX C5" : "White Rose Cluster GFX A5" { scale 2.6 }
actor "White Rose Cluster GFX C6" : "White Rose Cluster GFX A6" { scale 2.6 }
actor "White Rose Cluster GFX C7" : "White Rose Cluster GFX A7" { scale 2.6 }
actor "White Rose Cluster GFX C8" : "White Rose Cluster GFX A8" { scale 2.6 }



// ------------------------ MELEE DAMAGERS ------------------------ //


actor "White Rose Cluster Melee" : item { states { pickup:
    TNT1 A 0 A_JumpIfInventory("WeaponCharge", 141, "big")
    TNT1 A 0 A_JumpIfInventory("WeaponCharge", 71, "mid")
    goto small

    small:
        TNT1 A 0 A_JumpIfInventory("var16", 28, "small7")
        TNT1 A 0 A_JumpIfInventory("var16", 24, "small6")
        TNT1 A 0 A_JumpIfInventory("var16", 20, "small5")
        TNT1 A 0 A_JumpIfInventory("var16", 16, "small4")
        TNT1 A 0 A_JumpIfInventory("var16", 12, "small3")
        TNT1 A 0 A_JumpIfInventory("var16", 8, "small2")
        TNT1 A 0 A_JumpIfInventory("var16", 4, "small1")
        goto small0

    big:
        TNT1 A 0 A_JumpIfInventory("var16", 28, "big7")
        TNT1 A 0 A_JumpIfInventory("var16", 24, "big6")
        TNT1 A 0 A_JumpIfInventory("var16", 20, "big5")
        TNT1 A 0 A_JumpIfInventory("var16", 16, "big4")
        TNT1 A 0 A_JumpIfInventory("var16", 12, "big3")
        TNT1 A 0 A_JumpIfInventory("var16", 8, "big2")
        TNT1 A 0 A_JumpIfInventory("var16", 4, "big1")
        goto big0

    mid:
        TNT1 A 0 A_JumpIfInventory("var16", 28, "mid7")
        TNT1 A 0 A_JumpIfInventory("var16", 24, "mid6")
        TNT1 A 0 A_JumpIfInventory("var16", 20, "mid5")
        TNT1 A 0 A_JumpIfInventory("var16", 16, "mid4")
        TNT1 A 0 A_JumpIfInventory("var16", 12, "mid3")
        TNT1 A 0 A_JumpIfInventory("var16", 8, "mid2")
        TNT1 A 0 A_JumpIfInventory("var16", 4, "mid1")
        goto mid0

        
    small0: TNT1 A 0 A_JumpIfInventory("var16", 1, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small1: TNT1 A 0 A_JumpIfInventory("var16", 5, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small2: TNT1 A 0 A_JumpIfInventory("var16", 9, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small3: TNT1 A 0 A_JumpIfInventory("var16", 13, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small4: TNT1 A 0 A_JumpIfInventory("var16", 17, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small5: TNT1 A 0 A_JumpIfInventory("var16", 21, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small6: TNT1 A 0 A_JumpIfInventory("var16", 25, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    small7: TNT1 A 0 A_JumpIfInventory("var16", 29, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Small Damager")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX A8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end


    mid0: TNT1 A 0 A_JumpIfInventory("var16", 1, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid1: TNT1 A 0 A_JumpIfInventory("var16", 5, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid2: TNT1 A 0 A_JumpIfInventory("var16", 9, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid3: TNT1 A 0 A_JumpIfInventory("var16", 13, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid4: TNT1 A 0 A_JumpIfInventory("var16", 17, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid5: TNT1 A 0 A_JumpIfInventory("var16", 21, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid6: TNT1 A 0 A_JumpIfInventory("var16", 25, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    mid7: TNT1 A 0 A_JumpIfInventory("var16", 29, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Mid Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX B8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end




        
    big0: TNT1 A 0 A_JumpIfInventory("var16", 1, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C1", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big1: TNT1 A 0 A_JumpIfInventory("var16", 5, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C2", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big2: TNT1 A 0 A_JumpIfInventory("var16", 9, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C3", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big3: TNT1 A 0 A_JumpIfInventory("var16", 13, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C4", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big4: TNT1 A 0 A_JumpIfInventory("var16", 17, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C5", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big5: TNT1 A 0 A_JumpIfInventory("var16", 21, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C6", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big6: TNT1 A 0 A_JumpIfInventory("var16", 25, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C7", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end
    big7: TNT1 A 0 A_JumpIfInventory("var16", 29, 2) TNT1 A 0 A_GiveInventory("__White Rose Cluster Big Melee")
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, 1) goto end
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster GFX C8", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
        goto end

    end: 
        TNT1 A 0 A_JumpIfInventory("var16", 31, "reset") 
        TNT1 A 0 A_GiveInventory("var16", 1) stop
    reset:
        TNT1 A 0 A_TakeInventory("var16",0xFFFF) stop
}}



actor "White Rose Cluster Small Damager" : proj {  obituary "$OB_XWWHITEROSECLUSTER"
	radius 15 height 24 damage (26) damagetype "WhiteRoseCluster" +DONTBLAST +DONTREFLECT
	states { spawn: TNT1 AA 0
					stop
			XDeath: Crash: TNT1 A 0 A_GiveToTarget("varBool", 1)
					stop}}

actor "White Rose Cluster Mid Melee" : watcher {
	damagetype "WhiteRoseClusterMelee" obituary "$OB_XWWHITEROSECLUSTER" states { spawn: TNT1 A 0 
								TNT1 A 0 A_Explode(13, 50, 0, 0, 38)
								stop}}
actor "White Rose Cluster Big Melee" : "White Rose Cluster Mid Melee" { states { spawn: TNT1 A 0 
								TNT1 A 0 A_Explode(13, 96, 0, 0, 64)
								stop}}	
			


actor "__White Rose Cluster Small Damager" : item { states { pickup:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Small Damager", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
	    TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, "spread") stop
    spread:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Small Damager", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Small Damager", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)	
    stop}}
actor "__White Rose Cluster Mid Melee" : item { states { pickup:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Mid Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, (18+25)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)
	    TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, "spread") stop
    spread:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Mid Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, (18+25)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Mid Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, (18+25)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)
    stop}}
actor "__White Rose Cluster Big Melee" : item { states { pickup:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Big Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, (8+44)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 0, SXF_ABSOLUTEVELOCITY)	
	    TNT1 A 0 A_JumpIfInventory("PowerSpreadRune", 1, "spread") stop
    spread:
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Big Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, (8+44)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, 20, SXF_ABSOLUTEVELOCITY)	
        TNT1 A 0 A_SpawnItemEx("White Rose Cluster Big Melee", cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, (8+44)+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3, velx, vely, velz, -20, SXF_ABSOLUTEVELOCITY)	
    stop}}
			
// ------------------------ PROJOS ------------------------ //

	
actor "White Rose Cluster Shoot" : item { states { pickup:
        TNT1 A 0 A_JumpIfInventory("WeaponCharge", 141, "bigboule")
	    TNT1 A 0 A_JumpIfInventory("WeaponCharge", 71, "midboule")
    smallboule:
	    TNT1 A 0 A_SpawnItemEx("White Rose Cluster S1",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED)
		XWAF P 0 ACS_NamedExecuteAlways("XW Ammo Use", 0, 2)
		XWAC J 0 A_JumpIfInventory("PowerSpreadRune", 1, "smallspread") stop
    smallspread:
	    TNT1 A 0 A_SpawnItemEx("White Rose Cluster S1",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,20)
	    TNT1 A 0 A_SpawnItemEx("White Rose Cluster S1",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H1, 8, 28+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H1,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,-20)
        stop
        
	midboule: 
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S2",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED)
		XWAF P 0 ACS_NamedExecuteAlways("XW Ammo Use", 0, 5)
		XWAC J 0 A_JumpIfInventory("PowerSpreadRune", 1, "midspread") stop
    midspread:
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S2",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,20)
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S2",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H2, 8, 18+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H2,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,-20)
        stop

    bigboule:
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S3",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED)
		XWAF P 0 ACS_NamedExecuteAlways("XW Ammo Use", 0, 10)
		XWAC J 0 A_JumpIfInventory("PowerSpreadRune", 1, "bigspread") stop
    bigspread:
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S3",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,-20)
		TNT1 A 0 A_SpawnItemEx("White Rose Cluster S3",
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_H3, 8, 8+sin(-pitch)*XW_WHITE_ROSE_CLUSTER_H3,
			cos(pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,0,sin(-pitch)*XW_WHITE_ROSE_CLUSTER_SPEED,20)
    stop
}}


actor "White Rose Cluster S1" : "White Rose Cluster Small Damager" { scale 0.67 -DONTBLAST
	-DONTREFLECT  +FORCEXYBILLBOARD +NOINTERACTION
	translation "192:192=4:4", "199:199=202:202", "194:194=207:207", "4:4=73:73"
	speed 34
	states { spawn: TNT1 A 0 nodelay A_PlaySoundEx("WHRSCLSX", "Weapon")
        TNT1 A 0 A_ChangeFlag("NOINTERACTION", false)
            TNT1 A 0 A_JumpIf(true, "goin")
			goin:
				XWAF GHIJKLMN 4
					loop
				XDeath: Crash: TNT1 A 0
					stop}}
			
		
actor "White Rose Cluster S2" : "White Rose Cluster S1" { scale 1.635
    radius 12 height 16
	damage (0) damagetype "WhiteRoseClusterCharged" +RIPPER states { 
	goin: XWAF GGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNN 1 A_Explode(16, 50, 0, 0, 50)
		loop}}
actor "White Rose Cluster S3" : "White Rose Cluster S2" { scale 2.6 states { 
	goin: XWAF GGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNN 1 A_Explode(16, 96, 0, 0, 64)
		loop}}
	












